# 通信网络

```c++

#include <bits/stdc++.h>
using namespace std;

typedef long long int LL;
const int N = 1010;
const int INF = 0x3f3f3f3f;

int mp[N][N];

int main(int argc, char **argv)
{
	int i,j,k,n,m,u,v;
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++){
		mp[i][i] = 1;
	}
	for(i=0;i<m;i++){
		scanf("%d%d",&u,&v);
		mp[u][v] = 1;
	}
	for(k=1;k<=n;k++){
		for(i=1;i<=n;i++){
			for(j=1;j<=n;j++){
				if(i != j && mp[i][k] == 1 && mp[k][j] == 1){
					mp[i][j] = 1;
				}
			}
		}
	}
	int ans=0;
	
	for(i=1;i<=n;i++){
		int vis[N] = {0}; 
		for(j=1;j<=n;j++){
			if(mp[i][j] == 1)
				vis[j] = 1;
		}
		for(j=1;j<=n;j++){
			if(mp[j][i] == 1)
				vis[j] = 1;
		}
		for(j=1;j<=n;j++){
			if(vis[j] == 0)
				break;
		}
		if(j > n)
			ans++;
	}
	printf("%d\n",ans);
    return 0; 
}

```